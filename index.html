<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Memory Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- スタート画面 -->
<div id="start-screen" class="start-screen" onclick="startBGM()">
  <div class="start-content">
    <h1 class="game-title">Miri Memory</h1>
    <p class="game-description">ミリプロをコンセプトにしたカードゲーム</p>
    <button id="start-btn" class="start-btn" onclick="startGame(event)">ゲームスタート</button>
  </div>
</div>

<!-- ゲームタイトル -->
<div id="game-container" class="game-container" style="display: none;">
  <!-- ゲームボード -->
  <div id="board"></div>

  <!-- デコレーションカード（左側中央） -->
  <div class="decoration-card decoration-left-center">
    <div class="card-face card-front">
      <div class="decoration-icon normal-face">😊</div>
    </div>
    <div class="card-face card-back">
      <div class="decoration-icon happy-face">😄</div>
    </div>
    <div class="card-face card-sad">
      <div class="decoration-icon sad-face">😥</div>
    </div>
  </div>

  <!-- デコレーションカード（右側中央） -->
  <div class="decoration-card decoration-right-center">
    <div class="card-face card-front">
      <div class="decoration-icon normal-face">😊</div>
    </div>
    <div class="card-face card-back">
      <div class="decoration-icon happy-face">😄</div>
    </div>
    <div class="card-face card-sad">
      <div class="decoration-icon sad-face">😥</div>
    </div>
  </div>

  <!-- Player 1 情報（左下） -->
  <div class="player-info player1-info player-bottom-left">
    <div class="player-header">
      <div class="player-name">PLAYER 1</div>
    </div>
    <div class="player-score" data-number="0"><span id="player1-score"></span></div>
  </div>

  <!-- Player 1 スキル（左上） -->
  <div class="player-skills player1-skills player-top-left">
    <button class="skill-btn" onclick="useSkill(1, 'block')">サイン</button>
    <button class="skill-btn" onclick="useSkill(1, 'shuffle')">リミックス</button>
    <button class="skill-btn" onclick="useSkill(1, 'extra')">アンコール</button>
  </div>

  <!-- Player 2 情報（右下） -->
  <div class="player-info player2-info player-bottom-right">
    <div class="player-header">
      <div class="player-name">PLAYER 2</div>
    </div>
    <div class="player-score" data-number="0"><span id="player2-score"></span></div>
  </div>

  <!-- Player 2 スキル（右上） -->
  <div class="player-skills player2-skills player-top-right">
    <button class="skill-btn" onclick="useSkill(2, 'block')">サイン</button>
    <button class="skill-btn" onclick="useSkill(2, 'shuffle')">リミックス</button>
    <button class="skill-btn" onclick="useSkill(2, 'extra')">アンコール</button>
  </div>
</div>

<!-- インフォメーションアイコン（上） -->
<div class="info-icon-top" id="info-icon-top" onclick="toggleRules()">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
    <path d="M12 16V12" stroke="white" stroke-width="2" stroke-linecap="round"/>
    <circle cx="12" cy="8" r="1" fill="white"/>
  </svg>
</div>

<!-- 音量アイコン（下） -->
<div class="volume-icon" id="volume-icon" onclick="toggleVolumeBar()">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M11 5L6 9H2v6h4l5 4V5z" fill="white" stroke="white" stroke-width="0.5"/>
    <path d="M15.5 8.5c1.5 1.5 1.5 4 0 5.5" stroke="white" stroke-width="2" stroke-linecap="round"/>
    <path d="M19 6c3 3 3 7 0 10" stroke="white" stroke-width="2" stroke-linecap="round"/>
    <circle cx="11" cy="12" r="1.5" fill="white" opacity="0.8"/>
  </svg>
</div>

<!-- ホームボタン（上） -->
<div class="home-icon-top" id="home-icon-top" onclick="confirmGoHome()">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <polyline points="9,22 9,12 15,12 15,22" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</div>

<!-- クレジットアイコン（下） -->
<div class="credit-icon" id="credit-icon" onclick="showCredits()">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M12 3.5l2.73 5.53L21 9.77l-4.5 4.38L17.36 20 12 17.27 6.64 20 7.5 14.15 3 9.77l6.27-0.74L12 3.5z" fill="white"/>
  </svg>
</div>

<!-- チャット欄（常に表示） -->
<div class="chat-frame">
  <div class="chat-content" id="chat-content"></div>
</div>

<!-- ホーム確認モーダル -->
<div class="home-confirm-modal" id="home-confirm-modal">
  <div class="home-confirm-content">
    <div class="home-confirm-message">
      <h3>ホームに戻りますか？</h3>
      <div class="home-confirm-buttons">
        <button class="home-confirm-btn yes" onclick="goToHome()">はい</button>
        <button class="home-confirm-btn no" onclick="closeHomeConfirm()">いいえ</button>
      </div>
    </div>
  </div>
</div>

<!-- クレジット表示モーダル -->
<div class="credit-modal" id="credit-modal">
  <div class="credit-modal-content">
    <div class="credit-modal-header">
      <h3>クレジット</h3>
      <button class="credit-modal-close" onclick="hideCredits()">×</button>
    </div>
    <div class="credit-modal-body">
      <div class="credit-message">
        <h2 style="text-align: center;">Thank you for playing!</h2>
        <p style="text-align: right;">ゲーム制作：モノクロ</p>
      </div>
    </div>
  </div>
</div>
<div class="rule-modal" id="rule-modal">
  <div class="rule-modal-content">
    <div class="rule-modal-header">
      <div class="rule-modal-tabs">
        <button class="rule-tab active" onclick="switchTab('howto')">遊び方</button>
        <button class="rule-tab" onclick="switchTab('future')">今後の予定</button>
      </div>
      <button class="rule-modal-close" onclick="toggleRules()">×</button>
    </div>
    <div class="rule-modal-body">
      <!-- 遊び方タブ -->
      <div id="howto-tab" class="tab-content active">
        <h4>基本ルール</h4>
        <ul>
          <li>20枚のカードを使った神経衰弱ゲーム</li>
          <li>同じ数字のカード2枚で1ペア</li>
          <li>ペアを作ると1ポイント獲得</li>
          <li>より多くペアを作ったプレイヤーの勝利</li>
        </ul>
        
        <h4>特殊カード</h4>
        <ul>
          <li>「×」カード：ミリちゃん登場</li>
          <li>「×」カードを引くと自分の手番が終了する</li>
        </ul>
        
        <h4>スキル</h4>
        <ul>
          <li>カードを引く前にスキルを１つ発動させることができます</li>
          <li>サイン：自分の手番終了後、カードを１枚指定する<br>相手は次の１ターン、そのカードを引くことができなない</li>
          <li>リミックス：自分の手番終了後、全てのカードをランダムに<br>配置し直す</li>
          <li>アンコール：自分の手番終了後、もう１ターン続けて<br>プレイできる</li>
        </ul>
      </div>
      
      <!-- 今後の予定タブ -->
      <div id="future-tab" class="tab-content">
        <h4>今後の予定</h4>
        <ul>
          <li>ゲーム開始画面にキャラ選択を追加</li>
          <li>盤面の隣にいただいたイラストを追加</li>
          <li>カード20枚の表をキャラのアイテムに変更</li>
          <li>ゲーム展開に合わせてボイスを追加</li>
          <li>スキルボタンのデザインを変更</li>
          <li>クレジット表記の変更</li>
          <li>※その他の要素においても変更及び改善を行っていく</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- 音量バー（非表示） -->
<div class="volume-bar-container" id="volume-bar-container">
  <div class="volume-bar-content">
    <div class="volume-item">
      <label for="bgm-slider-game" class="volume-label-game">音楽</label>
      <input type="range" id="bgm-slider-game" class="volume-slider-game" min="0" max="100" value="50">
      <span id="bgm-value-game" class="volume-value-game">50%</span>
    </div>
    <div class="volume-item">
      <label for="sfx-slider-game" class="volume-label-game">効果音</label>
      <input type="range" id="sfx-slider-game" class="volume-slider-game" min="0" max="100" value="50">
      <span id="sfx-value-game" class="volume-value-game">50%</span>
    </div>
  </div>
</div>

<!-- アウトメッセージ -->
<div id="out-message" class="out-message hidden">アウト！</div>

<!-- ゲットメッセージ -->
<div id="get-message" class="get-message hidden"></div>

<!-- 汎用メッセージ -->
<div id="general-message" class="general-message hidden"></div>

<!-- スキル確認メッセージ -->
<div id="skill-confirm" class="skill-confirm hidden">
  <div class="skill-confirm-text"></div>
  <div class="skill-confirm-buttons">
    <button class="skill-confirm-btn ok-btn" onclick="confirmSkill(true)">OK</button>
    <button class="skill-confirm-btn cancel-btn" onclick="confirmSkill(false)">キャンセル</button>
  </div>
</div>

<script src="game.js"></script>
</body>
</html>
